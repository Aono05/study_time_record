<h1 class="centered bold">勉強時間記録アプリ</h1>

<div class="message-container">
  <div class="outer-box">
    <h1 class="smaller">今日の応援メッセージ</h1>
  </div>
  <div class="message-box">
    <h1 class="underline"><%= @random_cheer_message.content %></h1>
    <%= image_tag @random_cheer_message.valid_image_path %>
  </div>
</div>

<div class="centered">
  <h4> 名前： <%= current_user.name %> </h4>
  <%= link_to "プロフィール", profile_path, class: "button profile-button" %><br>
  <%= link_to "オリジナル応援メッセージ一覧", cheer_messages_path, class: "button cheer-button" %><br>
  <%= button_to "ログアウト", destroy_user_session_path, method: :delete, class: "button logout-button" %>
</div>

<%= column_chart @total_study_time_indexed_by_date, xtitle: "日付", ytitle: "勉強時間" %>

<table class="center-table">
  <thead>
    <tr>
      <th>開始時間</th>
      <th>終了時間</th>
      <th>合計時間[分]</th>
      <th>Memo</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @study_times.each do |study_time| %>
      <tr>
        <td><%= l(study_time.started_at) %></td>
        <td><%= l(study_time.ended_at) %></td>
        <td><%= study_time.duration %></td>
        <td><%= study_time.memo %></td>
        <td><%= link_to '詳細', study_time %></td>
        <td><%= link_to '編集', edit_study_time_path(study_time) %></td>
        <td><%= link_to '削除', study_time, method: :delete, data: { confirm: '本当に削除していいですか?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<div class="centered">
  <%= link_to '勉強時間記録', new_study_time_path, class: 'button study-time-button' %>
</div>

<div class="centered">
  <%= link_to '週間勉強時間ランキング', rankings_path, class: 'button ranking-button' %>
</div>
